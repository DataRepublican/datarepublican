<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/assets/css/styles.css">
<link rel="stylesheet" href="/assets/css/map-style.css">
<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/functions.js"></script>

<script>
  !function (t, e) { var o, n, p, r; e.__SV || (window.posthog = e, e._i = [], e.init = function (i, s, a) { function g(t, e) { var o = e.split("."); 2 == o.length && (t = t[o[0]], e = o[1]), t[e] = function () { t.push([e].concat(Array.prototype.slice.call(arguments, 0))) } } (p = t.createElement("script")).type = "text/javascript", p.crossOrigin = "anonymous", p.async = !0, p.src = s.api_host.replace(".i.posthog.com", "-assets.i.posthog.com") + "/static/array.js", (r = t.getElementsByTagName("script")[0]).parentNode.insertBefore(p, r); var u = e; for (void 0 !== a ? u = e[a] = [] : a = "posthog", u.people = u.people || [], u.toString = function (t) { var e = "posthog"; return "posthog" !== a && (e += "." + a), t || (e += " (stub)"), e }, u.people.toString = function () { return u.toString(1) + ".people (stub)" }, o = "init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "), n = 0; n < o.length; n++)g(u, o[n]); e._i.push([i, s, a]) }, e.__SV = 1) }(document, window.posthog || []);
  posthog.init('phc_N9vMS3PvDUAEToLCWTi0eSS63fyVAxExArOHIz3kqGh', {
    api_host: 'https://us.i.posthog.com', person_profiles: 'always' // or 'always' to create profiles for anonymous users as well
  })
</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap"
  rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Award search | Joe is done.</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Award search" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Joe Is Done" />
<meta property="og:description" content="Joe Is Done" />
<link rel="canonical" href="http://localhost:4000/award_search/" />
<meta property="og:url" content="http://localhost:4000/award_search/" />
<meta property="og:site_name" content="Joe is done." />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Award search" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Joe Is Done","headline":"Award search","url":"http://localhost:4000/award_search/"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
  <header
  class="max-w-7xl mx-auto flex flex-col sm:flex-row gap-2 border-b border-gray-300 pb-2 mb-4 text-[13px] md:text-sm sm:items-center">
  <strong class="text-lg inline-block mr-2">Joe is Done.</strong>
  <div class="flex md:gap-1 sm:gap-2 -mx-4 px-2 md:px-4">
    <a href="/award_search"
      class="group px-2 py-1.5 rounded hover:bg-gray-200 flex items-center gap-2 no-underline whitespace-nowrap font-bold text-black">
      <svg class="opacity-80 group-hover:opacity-100 relative left-1 top-px" xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24"><path fill="#000" d="M14.563 13.58c.037-.32-.134-.648-.455-.678l-.018-.001-4.893-.388a4.195 4.195 0 0 0-1.597.182l-3.902 1.237a1 1 0 0 0-.698.953v5.135a1 1 0 0 0 1 1h.838l.013.004a27.392 27.392 0 0 0 2.02.532c1.22.27 2.854.54 4.228.41 1.47-.14 3.289-.83 4.859-1.542a48.75 48.75 0 0 0 3.894-2.005A2.242 2.242 0 0 0 21 16.472c0-1.546-1.443-1.916-3-1.472l-2.5.75c-1 1.25-1.55 1.566-3.125 1.903l-1.258.269a.715.715 0 0 1-.3-1.398l1.229-.263c1.356-.29 2.367-1.367 2.517-2.681ZM18 7.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0ZM12.073 3.127a4.999 4.999 0 0 0-2.346 5.866 3.5 3.5 0 1 1 2.346-5.865Z"/></svg>
      <span>Award search</span>
    </a>
    <a href="/nonprofit"
      class="group px-2 py-1.5 rounded hover:bg-gray-200 flex items-center gap-2 no-underline whitespace-nowrap text-gray-600 hover:text-black">
      <svg class="opacity-80 group-hover:opacity-100 relative left-1 top-px" xmlns="http://www.w3.org/2000/svg" x="0px"
        y="0px" width="24" height="24" viewBox="0 0 30 30">
        <path fill="#000" fill-rule="evenodd"
          d="M21.9 10.713h-.3v7.877a2.1 2.1 0 0 1 1.427 1.359l.4 1.2a2.1 2.1 0 0 1-1.992 2.764H2.565a2.1 2.1 0 0 1-1.992-2.764l.4-1.2A2.1 2.1 0 0 1 2.4 18.59v-7.877h-.3a2.1 2.1 0 0 1-2.1-2.1v-.554a2.1 2.1 0 0 1 1.153-1.875l9.9-5.001a2.1 2.1 0 0 1 1.894 0l9.9 5.001A2.1 2.1 0 0 1 24 8.06v.554a2.1 2.1 0 0 1-2.1 2.1Zm-5.1 0h3v7.8h-3v-7.8Zm-9.6 7.8h-3v-7.8h3v7.8Zm1.8 0v-7.8h6v7.8H9Z"
          clip-rule="evenodd" />
      </svg>
      <span>Non-profits</span>
    </a>
    <div class="relative group">
      <button 
        class="group px-2 py-1.5 text-[13px] md:text-sm rounded border border-transparent bg-transparent focus:bg-gray-200 focus:border-gray-600 hover:bg-gray-200 flex items-center gap-1 text-gray-600 hover:text-black focus:text-black"
        id="election-results-button"
        aria-haspopup="true"
        aria-expanded="false"
      >
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-0.5" fill="none" viewBox="0 0 24 24" width="24" height="24"><path fill="#000" fill-rule="evenodd" d="M5.75 2A1.75 1.75 0 0 0 4 3.75v16.153a1.25 1.25 0 0 0 1.854 1.095l2.43-1.342a.25.25 0 0 1 .23-.006l2.725 1.316a1.75 1.75 0 0 0 1.522 0l2.725-1.316a.25.25 0 0 1 .23.006l2.43 1.342A1.25 1.25 0 0 0 20 19.903V3.75A1.75 1.75 0 0 0 18.25 2H5.75ZM9 13.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm5.53-5.67a.75.75 0 0 0-1.06-1.06L11.2 9.29l-.67-.67a.75.75 0 1 0-1.06 1.06l1.2 1.2a.75.75 0 0 0 1.06 0l2.8-2.8Z" clip-rule="evenodd"/></svg>
        <span class="whitespace-nowrap">Election <span class="hidden md:inline-flex">results</span></span>
        <svg class="w-4 h-4 opacity-80 group-hover:opacity-100" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </button>

      <div 
        id="election-results-dropdown"
        class="absolute hidden left-0 mt-1 bg-white border border-gray-200 rounded shadow-lg z-50 "
      >
        <a href="/florida"
          class="group px-4 py-2 flex items-center gap-2 no-underline whitespace-nowrap hover:bg-gray-100 text-gray-600 hover:text-black">
          <svg class="opacity-80 group-hover:opacity-100" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24"
        height="24" viewBox="0 0 30 30">
        <path
          d="M21.751,3.785h0.032v0.032l0.081,0.016h0.032l0.049-0.032l0.016-0.016l0.032,0.016l0.016,0.016v0.016h0.016 l0.016,0.032l0.016,0.081L22.043,4.06l0.032,0.341l0.032,0.113l-0.049-0.032L22.01,4.433l-0.016-0.081l-0.016-0.081l-0.016-0.049 L21.945,4.19l-0.032-0.032h-0.049l-0.016,0.016v0.032l0.016,0.097v0.065l0.016,0.081l0.032,0.049l0.065,0.016V4.53l0.113,0.065 l0.032,0.032l0.032,0.049l0.016,0.032l0.016,0.016l0.032,0.016h0.016l0.016,0.032l0.016,0.065l0.016,0.13l0.016,0.016L22.334,5 l0.016,0.032l0.016,0.032l0.016,0.178l0.032,0.178l0.178,0.421l0.049,0.081l0.097,0.13l0.016,0.065l0.081,0.308l0.194,0.454v0.146 h0.016h0.032l0.016,0.016v0.032v0.032l0.032,0.016l0.049,0.016l-0.032,0.032l0.032,0.049l0.049,0.211l0.032,0.032l0.032,0.032 l0.097,0.243l0.13,0.178l0.032,0.065l0.016,0.081l0.032,0.081l0.032,0.081l0.211,0.259l0.292,0.454l0.34,0.616l0.422,0.567 l-0.016,0.065l0.065,0.049l0.065,0.032l0.049,0.065l0.032,0.081l0.6,0.697l0.308,0.373l0.227,0.243l0.276,0.341l0.13,0.259 l0.065,0.065l-0.016,0.097l-0.065,0.081l-0.032,0.016v0.032l-0.016,0.032l-0.016,0.032l-0.032,0.016v0.032l0.065,0.389l-0.016,0.065 l0.016,0.016l0.016,0.097l0.049,0.227l0.146,0.389l0.065,0.113l0.032,0.065l0.097,0.162l0.373,0.405l0.032,0.162l-0.113-0.146 l-0.016-0.032l-0.032-0.032l-0.13-0.113l-0.049-0.13l-0.276-0.357l-0.162-0.308l-0.065-0.162l-0.113-0.713l0.032-0.535l-0.032-0.162 l-0.049-0.162l-0.032-0.049l-0.032-0.032l-0.065-0.016l-0.065,0.016h-0.016l-0.016-0.016h-0.016H26.11v0.016l0.016,0.065 l-0.032,0.032h-0.032h-0.243l-0.065-0.016l-0.065-0.049l-0.032-0.065v-0.081v-0.081l0.016-0.065l0.032,0.016l0.016-0.065 l0.016-0.081l-0.032-0.065l-0.162-0.032l-0.13-0.097l-0.081-0.016l0.113,0.356l0.065,0.097v0.032l-0.016,0.032l0.146,0.194 l0.032,0.081l0.032,0.162l0.146,0.373l0.049,0.081l0.113,0.227l0.13,0.194l0.049,0.097L27.78,15.6l0.227,0.6l0.762,1.216 l0.016,0.065l-0.049-0.081l-0.049-0.032h-0.146l-0.097-0.032l-0.032-0.016l-0.016-0.016l-0.032-0.016l-0.049,0.016l0.016,0.032 l0.113,0.081l0.032,0.016l0.065,0.016l0.032,0.016l0.081-0.049h0.032l0.162,0.13l0.032,0.049l0.113,0.032l0.032,0.065l0.016,0.049 l0.113,0.162l0.113,0.211l0.097,0.146l0.016,0.049l-0.016,0.049l-0.032,0.016l-0.048,0.016l-0.032,0.016v0.032l0.049,0.016h0.081 l0.049,0.032l0.032,0.032l0.162,0.373l0.016,0.113l-0.049,0.065V19.1l0.065,0.049l0.049,0.13l0.097,0.519l-0.016,0.13l-0.049,0.016 l0.065,0.551l-0.016,0.13v0.065l0.032,0.146v0.065l-0.016,0.065l0.032,0.097v0.616v0.13l-0.065,0.049l0.016,0.032l0.065,0.081 L30,23.185h-0.032l-0.016-0.178l-0.016-0.178l-0.016-0.113l-0.016-0.049h-0.032l-0.113,0.211l0.016,0.146l-0.032,0.113l0.016,0.178 l-0.032,0.081l-0.049,0.016l-0.032,0.016l-0.033,0.016l-0.032,0.032v0.049v0.097l-0.049,0.178l-0.097,0.13v0.081l0.032,0.211v0.065 l-0.049,0.097l-0.032,0.081l0.016,0.081l0.016,0.081l0.032,0.016l0.032,0.016l0.016,0.016l-0.032,0.065l-0.016,0.081l0.049,0.032 l0.049,0.016l0.032,0.032v0.049l-0.113,0.13l-0.146,0.227v0.032v0.032l-0.016,0.049l-0.049,0.081v0.049v0.081l0.065,0.049 l0.049,0.032v0.049l-0.065-0.032l-0.081-0.097l-0.065-0.016v-0.065l-0.065,0.016l-0.065,0.049l-0.032,0.065l0.081-0.016l0.065,0.032 l0.065,0.065l0.016,0.081h-0.017l-0.032-0.097l-0.065-0.032h-0.081l-0.049,0.049l-0.016-0.017l-0.016-0.032l-0.032-0.016h-0.032 l0.016-0.032v-0.016l0.016-0.016l0.032-0.016v-0.016l-0.032-0.032l-0.049,0.016l-0.146,0.032l-0.049,0.032l-0.032,0.065 l-0.016,0.097l-0.016,0.065l-0.065-0.016h0.016v-0.016l0.016-0.016l-0.146,0.049l-0.016,0.016l0.016,0.049l0.016,0.016l0.016,0.032 l-0.032,0.032h-0.016l-0.065-0.016l-0.049,0.032l-0.049,0.081l-0.049,0.016h-0.065h-0.065l-0.049-0.049v0.016v0.016l-0.016,0.016 v0.016H27.99l-0.016-0.016l-0.032-0.016l-0.016-0.016l-0.016,0.032v0.016h-0.032h-0.032v-0.032v-0.032h-0.113l-0.065-0.049 l-0.081,0.081l-0.016,0.016l-0.081,0.097l-0.065,0.032l-0.146,0.016l-0.113,0.049l-0.146,0.032l-0.178,0.081l-0.049-0.016 l-0.211-0.13l-0.081-0.13l-0.065-0.113l-0.016-0.13l0.016-0.162l0.049-0.146l0.049-0.065l-0.016,0.065h0.049l0.049,0.016 l0.049,0.032l0.032,0.032l0.081,0.113h0.016l0.049,0.032l0.308,0.065l0.016,0.032l-0.032,0.016l-0.032,0.016l-0.016,0.016v0.016 l0.081,0.016h0.081l0.081-0.032l0.049-0.065l0.032-0.097l-0.049-0.065l-0.243-0.194l-0.081-0.016h-0.13l-0.065-0.032l-0.032-0.016 h-0.146l-0.195-0.113l-0.032-0.032l-0.016-0.049l-0.032-0.081l-0.016-0.032l-0.065-0.146l-0.146-0.13l-0.065-0.065l0.065-0.065 l0.016-0.032l0.016-0.032l-0.016-0.016l-0.032-0.016l-0.081,0.032l-0.049-0.016l-0.016-0.032l-0.065-0.178l-0.113-0.13v-0.049 l-0.032-0.032l-0.032-0.049l-0.016-0.065h-0.114h-0.032l-0.032-0.032l-0.065-0.097l-0.016-0.016l-0.049-0.016l0.016-0.049 l0.097-0.097l-0.032-0.016l-0.097-0.097l-0.097-0.065l-0.097-0.065H25.17h-0.113l-0.049-0.016l-0.049-0.032l-0.065-0.065 l-0.049-0.016l-0.032,0.049h-0.049l-0.049-0.049l-0.081-0.016l-0.048-0.032h-0.049v0.016l-0.049,0.032l-0.032,0.016l0.016-0.032 l-0.016-0.016v-0.032l-0.032,0.016h-0.049l-0.032-0.032l-0.032-0.049l-0.032,0.032l-0.016,0.065l-0.032,0.032l-0.049,0.016h-0.049 l-0.032-0.016l-0.032-0.032l-0.016,0.032v0.032h-0.016l-0.016,0.032v0.016l-0.016,0.016h-0.032l-0.016-0.016l-0.032-0.032 l-0.016-0.032l-0.049-0.113l0.049-0.032l0.049,0.016l0.049,0.049l0.049,0.016l0.032-0.032l0.016-0.049l0.032-0.065V23.25 l-0.049,0.016l-0.097,0.016h-0.032l-0.049-0.033l-0.032-0.032l-0.016-0.049l0.016-0.049l-0.113-0.065l-0.081-0.097l-0.097-0.292 l-0.016,0.049v0.049v0.032l0.016,0.049H23.55l-0.113-0.276l-0.081-0.324v-0.146v-0.016v-0.016l-0.146-0.194l-0.016-0.065h0.016 v0.032h0.032l-0.049-0.259l-0.032-0.081l-0.032-0.049l-0.097-0.13l-0.032-0.049l0.016,0.049l0.032,0.097l-0.016,0.049l-0.016,0.016 l-0.032-0.016l-0.016-0.016H22.95h-0.081l-0.211-0.081l-0.049,0.032h-0.016l-0.016-0.016l-0.016,0.032l-0.016-0.032l-0.016-0.065 v-0.065l0.016-0.032h0.016l0.032,0.032l0.032,0.016l0.032-0.016l0.016-0.016v-0.016l0.097-0.081l0.081-0.113l0.049-0.13 l-0.016-0.097l0.032-0.065l0.13-0.178l0.016-0.049l0.016-0.032l0.049-0.032l0.032,0.016l0.032-0.032l0.032-0.032l0.016-0.032v-0.049 l-0.049,0.032l-0.081,0.065l-0.065,0.016l-0.065,0.032l-0.049,0.065l-0.113,0.146l-0.032,0.081l-0.065,0.324v0.032l-0.032,0.016 l-0.081,0.032l-0.032,0.032l-0.016-0.065l-0.065,0.049l-0.049,0.032l-0.049,0.016l-0.065-0.065l-0.049-0.065v-0.049l0.016-0.065 v-0.097l-0.032-0.065l-0.097-0.146l-0.016-0.049l-0.016-0.097l0.016-0.486v-0.097l-0.016-0.097l-0.049-0.032l-0.049-0.016 l-0.081-0.049v-0.065l0.065-0.065l0.162-0.13l0.081-0.032l0.032-0.016l0.016-0.049l0.032-0.13l-0.065,0.032l-0.065,0.097 l-0.146,0.049l-0.065,0.032l-0.065,0.016h-0.081l-0.016,0.065l-0.032,0.016l-0.049,0.016l-0.016,0.049l-0.016,0.016l-0.049-0.032 l-0.081-0.065v-0.081l-0.032,0.016l-0.049,0.049l-0.065-0.016l-0.081-0.113l-0.049-0.032l-0.081-0.032l0.016,0.032l0.049,0.065 l0.13,0.13l0.049,0.032l0.016-0.032l0.049,0.032l0.065,0.113l0.032,0.032l0.016,0.016l0.081,0.146l0.065,0.178l0.016,0.065 l-0.016,0.049l-0.032,0.032l-0.032-0.113l-0.032-0.049l-0.016,0.016l-0.016,0.032l-0.016,0.032l-0.016,0.032l-0.016-0.016 l-0.049-0.032h-0.016h-0.016v0.016l-0.032,0.016h-0.016l-0.049-0.032l-0.032-0.016l-0.049-0.016h-0.032h-0.032L21.2,20.057 l-0.162-0.341l-0.113-0.097l0.016,0.065l0.065,0.097l0.016,0.049l-0.049-0.016l-0.016-0.016H20.94l-0.032-0.081L20.47,19.1 l-0.049-0.146l-0.113-0.162l-0.032-0.081l0.016,0.049l0.016,0.016l0.032,0.016l-0.016-0.065l-0.016-0.065l-0.032-0.049l-0.049-0.016 l0.016,0.065h-0.033l-0.049-0.081l-0.081-0.081l-0.049-0.065l-0.016-0.097l0.016,0.016h0.016l0.016,0.016l0.016,0.016h0.016 l-0.016-0.097l-0.097-0.146l-0.065-0.194l-0.065-0.049l-0.081-0.016l-0.146-0.097h-0.146l-0.065-0.016l-0.049-0.049l-0.097-0.178 l-0.016-0.065h0.016l0.081,0.113l0.016,0.032l0.049,0.032l0.097,0.032l0.049,0.032l0.032-0.032v-0.032l0.016-0.049l-0.016-0.032 h-0.016l-0.032,0.016h-0.032l-0.016-0.016l-0.032-0.016l0.049-0.081l0.097,0.016l0.097,0.032l0.081-0.016l-0.032-0.032l-0.049-0.016 H19.66l-0.049-0.016l0.049-0.032l0.097-0.049l0.049-0.032l0.016-0.065l-0.049,0.016l-0.049,0.032l0.032-0.049l-0.016-0.016 l-0.016-0.032l0.065-0.065l0.032-0.081l0.016-0.097l0.032-0.081l0.097-0.097v-0.032v-0.065l0.032-0.016l0.032-0.016l0.016-0.016 l0.049-0.13l0.016-0.032l0.081-0.081l0.032-0.049l0.097-0.146l0.016-0.065l-0.016-0.097l-0.097-0.162l-0.065-0.162l-0.049-0.049 l-0.065,0.016l-0.065,0.049l-0.032,0.049v0.065l0.016,0.162l0.032,0.049l0.016,0.049l-0.016,0.032l-0.13,0.016h-0.032l-0.065-0.081 l-0.016-0.097v-0.194l-0.049-0.113l-0.065-0.032l-0.097-0.016l-0.113,0.016l-0.016-0.032l0.081-0.032v-0.032l-0.113-0.049 l-0.049-0.032l-0.049-0.032h-0.016v0.016v0.049l-0.162-0.13l0.016,0.032l0.049,0.065v0.032v0.032l-0.016,0.049l0.016,0.016 l-0.032,0.032l0.016,0.016h0.032l0.13-0.016l-0.032,0.065l-0.162,0.065l-0.049,0.081l0.146,0.032l0.146,0.065l0.146,0.032 l0.162-0.049l-0.032,0.032l-0.113,0.097l0.016,0.032l0.032,0.097v0.049v0.032l-0.049,0.081v0.016v0.032l-0.032,0.13l0.032,0.065 v0.081l-0.032,0.065l-0.049,0.032h-0.065h-0.032l-0.016-0.016l-0.016-0.032l-0.016-0.097v-0.016h-0.081l-0.049-0.016l-0.081-0.081 l-0.081-0.081l-0.162-0.081l-0.081-0.065v0.065l0.032,0.049l0.259,0.211l0.049,0.065l0.081,0.13l0.032,0.097v0.049l-0.049-0.016 l-0.049-0.065l-0.032-0.081l-0.032-0.064l-0.065-0.13l-0.259-0.194l-0.065-0.081l-0.016-0.049l-0.049-0.113L18.59,16.07v-0.081 l0.032-0.081l0.032-0.065l0.032-0.032l-0.032,0.049l-0.016,0.081v0.065l0.032,0.065l0.081-0.341l0.016-0.389v-0.113v-0.049 L18.8,15.13l-0.049-0.049l-0.032-0.065l-0.032-0.097l-0.016-0.049v-0.081v-0.065l0.049,0.016l0.032-0.065l0.016-0.049l0.016-0.113 l0.065-0.13l0.016-0.065l-0.016-0.049l-0.016,0.016l-0.032,0.016l0.081-0.373l0.049-0.049l-0.016-0.032v-0.016l0.065-0.162 l-0.032-0.211v-0.049l0.016-0.13l-0.032-0.357l0.032-0.081l-0.032-0.016l-0.016-0.049v-0.032l0.016-0.032l0.016-0.032V12.65 l-0.016-0.032l-0.016-0.032l-0.016-0.146l-0.016-0.032h-0.032h-0.016l-0.016-0.016l-0.032-0.049l-0.081-0.081l-0.016-0.032 l0.049-0.081l0.065,0.032l0.097,0.097l-0.049-0.113v-0.049v-0.194l-0.016-0.065l-0.049-0.049h-0.032h-0.065l-0.032-0.016 l-0.032-0.016l-0.178-0.162l-0.016-0.065V11.45l-0.032,0.016l-0.049-0.016l-0.032-0.032l0.016-0.049v-0.032l-0.016-0.13v-0.016 l-0.146-0.097l-0.049-0.065l0.065-0.049l-0.065-0.032l-0.032-0.032l-0.016-0.065l-0.016-0.081l-0.065,0.049l-0.016,0.016 l-0.032-0.016l-0.049-0.032l-0.016-0.032l-0.065,0.065l-0.081,0.016l-0.081-0.032l-0.065-0.032l-0.049,0.016l-0.097,0.016 l-0.049,0.016l-0.065,0.049H17.31h-0.049h-0.065l-0.032-0.049V10.77l-0.032-0.016l-0.049-0.016l-0.032-0.016v-0.032l0.032-0.049 l-0.032-0.032l-0.032-0.049l-0.032-0.049l-0.065-0.016l-0.049-0.016l-0.065-0.016l-0.065-0.016l-0.049-0.032l-0.016-0.032v-0.032 l-0.016-0.097h-0.016l-0.081-0.113l-0.13-0.13L16.37,9.943l-0.081-0.049l-0.097,0.017l-0.113-0.065l-0.211-0.194l-0.032,0.016 l-0.049-0.016l-0.097-0.065l0.016-0.032L15.689,9.49l-0.016-0.049L15.64,9.408l0.032-0.065l0.016-0.081l-0.016-0.097l-0.016-0.081 l-0.049-0.049h-0.065L15.462,9.02l-0.081-0.016l-0.032-0.016L15.3,8.955l-0.016-0.016l-0.13-0.049l-0.065-0.032l-0.081-0.065 l-0.065-0.081l-0.032-0.065V8.614l-0.032-0.097l-0.032-0.049l-0.032-0.016l-0.032-0.016L14.765,8.42l-0.049-0.081l-0.146-0.13 L14.522,8.16L14.49,8.128L14.311,8.03l-0.032-0.032h-0.065l-0.049-0.032l-0.097-0.081l-0.081,0.032l-0.162-0.049l-0.373-0.162 L13.16,7.512l-0.065,0.017l-0.113,0.065l-0.243,0.065l-0.065,0.049l-0.049,0.016L12.61,7.691l-0.016-0.049l-0.032-0.016h-0.016 V7.609h-0.016l-0.016-0.016L12.48,7.609l-0.016,0.049h-0.016l-0.065,0.016l-0.016-0.016H12.35h-0.032L12.302,7.69l-0.032,0.049 l-0.016,0.049v0.016H12.14L12.107,7.82l-0.13,0.081L11.961,7.95l0.016,0.065l-0.032-0.016h-0.016V7.982l-0.032,0.032v0.016v0.049l0.016,0.016l0.016,0.032V8.144l0.032-0.032V8.096l0.032,0.032l0.081,0.081v0.016h-0.049l-0.097-0.032l-0.13-0.016 l-0.081-0.049h-0.049l-0.032,0.065h0.049l0.016,0.032l0.016,0.049l0.032,0.016h0.227l0.113,0.032l0.032,0.081l-0.032,0.098 L12.01,8.582l0.032-0.049l0.016-0.016V8.485l-0.146-0.032l-0.146,0.016l-0.065,0.016l-0.065,0.032l-0.065,0.016l-0.049-0.049 l-0.178,0.146l-0.13,0.146l-0.162,0.065l-0.113,0.081l-0.146,0.211l-0.049,0.016l-0.098,0.032L10.6,9.198l-0.081,0.081L10.47,9.311 l-0.065,0.032l-0.049,0.032l-0.049,0.049l-0.032,0.016l-0.032-0.065l0.016-0.032l0.081-0.194l-0.065-0.016l-0.032,0.032 l-0.049,0.032L10.146,9.23l-0.049,0.032l-0.049,0.113L9.952,9.392l-0.049,0.13L9.854,9.554H9.563L9.417,9.571L9.012,9.765H8.947 H8.849H8.768l-0.13,0.081L8.574,9.814L8.509,9.765L8.46,9.716L8.363,9.376L8.315,9.165l0.049-0.097L8.379,9.1l0.016,0.292 l0.032,0.081L8.46,9.57l0.049,0.081l0.113,0.13l0.016,0.016h0.065l0.032-0.016l0.032-0.049l0.016-0.049L8.768,9.668V9.619 L8.752,9.327L8.703,9.246l-0.13-0.13L8.541,9.052L8.509,8.987L8.444,8.906L8.38,8.857L8.315,8.809L7.877,8.663L7.764,8.582 L7.748,8.566L7.731,8.533L7.715,8.517L7.699,8.468h0.032L7.78,8.533l0.081,0.065l0.097,0.049h0.065L7.52,8.322L7.472,8.306 L7.277,8.144L7.245,8.095h0.016h0.227l0.016,0.081l0.227,0.049l0.081,0.049l0.065,0.081l0.13,0.081l0.13,0.049l0.065-0.049 l0.016-0.032l0.065-0.016l0.032-0.032L8.298,8.306H8.266H8.217H8.185L8.169,8.29V8.274L8.152,8.258L8.136,8.29L8.104,8.387 L8.071,8.42L8.007,8.404L7.974,8.339L7.958,8.193L7.942,8.144L7.877,8.177L7.845,8.144L7.861,8.08L7.91,8.031L7.893,7.998 L7.829,8.015L7.78,8.047L7.731,8.08L7.65,8.047L7.666,8.08L7.65,8.096v0.016v0.032L7.585,8.096L7.504,8.063L7.423,8.031L7.359,8.063 L7.326,8.015L7.294,7.998L7.164,7.95L7.132,7.933L7.099,7.901L7.067,7.869l0.065-0.065l0.13-0.194l0.065-0.016l0.081,0.016 l0.13-0.178h0.081L7.553,7.334L7.521,7.285L7.488,7.269L7.456,7.301L7.391,7.463L7.326,7.512L7.31,7.463L7.261,7.48L7.213,7.512 L7.164,7.528L7.132,7.561L7.115,7.609L7.083,7.642H7.051L7.034,7.561L7.002,7.512L6.937,7.447L6.889,7.366L6.856,7.447L6.824,7.48 L6.71,7.496L6.646,7.528L6.597,7.577L6.564,7.626l0.032,0.081l0.049,0.032h0.049l0.049-0.032L6.807,7.69h0.081l0.032,0.032 L6.97,7.771l0.049,0.032L6.97,7.901L7.002,7.95l0.065,0.032l0.065,0.049L7.115,8.08L7.066,8.047L7.034,8.063L7.066,8.08l0.032,0.032 L7.001,8.096L6.548,7.836l-0.324-0.13L5.786,7.545l-0.47-0.097L4.684,7.334H4.263L4.149,7.285l0.016-0.016V7.253l0.049,0.016 l0.292-0.016l0.243,0.016l0.032-0.016l0.032-0.049L4.83,7.139V7.091h0.016h0.016l0.016,0.049l0.032,0.049L4.96,7.221l0.162,0.016 l0.016-0.016l0.016-0.032l0.016-0.032H5.154L5.09,7.139L5.057,7.123L5.041,7.107l0.032-0.032h0.064l0.049,0.016l0.097,0.081 l0.178,0.032l0.032,0.016l0.081,0.032l0.032-0.032V7.172L5.576,7.139L5.559,7.123L5.446,7.01L5.413,6.945L5.43,6.929l0.032-0.032 L5.446,6.832L5.365,6.896L5.3,6.913L5.251,6.88L5.203,6.767L5.138,6.832L5.073,6.848L4.927,6.832L4.846,6.848L4.7,6.897L4.636,6.913 L4.587,6.945L4.538,6.994L4.506,7.026H4.441L4.376,6.978l0.016-0.065l0.065-0.113H4.376L4.344,6.815L4.311,6.832L4.295,6.88H4.263 L4.23,6.848L4.182,6.799l0.016,0.049L4.23,6.945L4.214,6.977L4.182,7.01L4.149,7.026L4.1,7.058H4.052L4.019,7.075L3.987,7.139 L3.938,7.156H3.857v0.016v0.065L3.825,7.269L3.55,7.285L3.258,7.334L3.177,7.318L3.112,7.366L3.015,7.399L2.804,7.415l-0.551,0.13 l-0.341,0.13L1.734,7.707L1.75,7.658l0.016-0.016h0.032l0.13-0.081L2.14,7.48l0.194-0.016l0.065-0.016L2.61,7.237l0.049,0.016 l0.065,0.016l0.049,0.016V7.237L2.739,7.204L2.658,7.172L2.577,7.156H2.512L2.48,7.139L2.415,7.058L2.399,7.042L2.367,7.058 L2.334,7.042L2.318,7.026V6.993l0.016-0.065L2.383,6.88l0.113-0.065L2.48,6.799V6.783L2.464,6.766L2.399,6.815L2.35,6.75 L2.302,6.669L2.221,6.637l0.049,0.065V6.75L2.253,6.783L2.204,7.009L2.156,7.107v0.146L2.123,7.301L2.058,7.318L2.042,7.269V7.204 l0.016-0.065L2.026,7.091L2.01,7.01L1.977,6.961H1.896V6.929V6.88l0.016-0.016H1.848L1.815,6.832L1.799,6.783L1.75,6.767 L1.702,6.783L1.686,6.832l0.032,0.13L1.734,7.01l0.081,0.097l0.016,0.065v0.065L1.75,7.399H1.734V7.382H1.718H1.702L1.686,7.48 L1.621,7.512H1.54L1.475,7.561v0.049l0.016,0.097L1.475,7.756L1.459,7.772L1.362,7.788L1.329,7.804l0.016,0.081L1.264,7.918 L0.778,8.08L0.713,8.112H0.681L0.6,8.144L0.568,8.161V8.128l0.049-0.016l0.016-0.032l0.016-0.016l0.032-0.032l0.032-0.016 l0.13-0.032L0.795,7.966L0.73,7.95l0.032-0.016l0.097-0.016l0.032-0.016l0.049-0.032L0.957,7.82V7.787L0.908,7.755V7.723l0.081-0.13 l0.065-0.049l0.081-0.032L1.167,7.48V7.431L1.151,7.382L1.119,7.333H1.086L1.005,7.35L0.973,7.333L0.956,7.317L0.892,7.301V7.285 L0.794,7.091L0.778,7.026L0.794,7.01V6.977l0.049-0.113l0.032-0.113V6.605V6.54V6.507L0.859,6.491L0.827,6.459L0.519,6.313 L0.47,6.28L0.405,6.216l-0.081-0.13L0.308,6.054L0.114,5.908L0.065,5.859L0.033,5.794L0.016,5.762L0,5.73V5.713l0.016-0.032V5.649 L0.081,5.47V5.454L0.065,5.26l0.016-0.049l0.162-0.016l0.551-0.049l0.567-0.065l0.567-0.049l0.567-0.049l0.551-0.065L3.614,4.87 l0.567-0.049l0.551-0.065L5.3,4.692l0.567-0.049l0.551-0.065l0.567-0.065l0.567-0.049l0.551-0.065l0.567-0.065l0.567-0.065 L9.222,4.287l0.016,0.049l0.016,0.016l0.065,0.032l0.032,0.016L9.368,4.45l0.049,0.113l0.032,0.032l0.049,0.097l0.049,0.081 l0.016,0.178L9.66,5.228l0.178,0.146l0.016-0.016h0.113H10h0.065l0.113-0.016h0.146l0.178-0.016h0.211l0.243-0.016l0.275-0.016 l0.292-0.016l0.324-0.016l0.34-0.016l0.357-0.016l0.373-0.032l0.389-0.016l0.389-0.032L14.1,5.13l0.389-0.016l0.405-0.032 L15.3,5.049l0.389-0.016L16.077,5l0.389-0.016l0.357-0.032l0.356-0.016l0.324-0.032l0.308-0.016l0.292-0.016l0.259-0.032 l0.243-0.016L18.8,4.805h0.178l0.13-0.016l0.146-0.016v0.016v0.032l-0.016,0.033V4.87v0.016l0.016,0.016l0.016,0.032l0.097,0.097 l0.016,0.016l0.032,0.032v0.016l0.016,0.032v0.016v0.016l-0.016,0.065v0.049v0.032v0.016l0.016,0.032l0.081,0.146l0.016,0.032 l0.016,0.016h0.032l0.016,0.016h0.032l0.162-0.049h0.032l0.065,0.016h0.016l0.016-0.016l0.097-0.032l0.016-0.016l0.016-0.016V5.422 V5.389l-0.032-0.113V5.26V5.195l0.032-0.259l0.016-0.276l-0.016-0.049V4.563l-0.016-0.016l-0.016-0.032l-0.081-0.081l-0.032-0.032 l-0.016-0.049V4.336l-0.016-0.049V4.255l0.016-0.097V4.141V4.109l-0.032-0.097V3.963V3.946V3.93l0.016-0.016l0.032-0.049V3.849 V3.817V3.785l0.016-0.016l0.016-0.016h0.032h0.032h0.032l0.016-0.016V3.72l0.016-0.032V3.671l-0.016-0.016l0.016-0.032V3.606 l0.016-0.016l0.032-0.016h0.016h0.049l0.032-0.016h0.016h0.032l0.065,0.032l0.032,0.016l0.049,0.016l0.34,0.097l0.032-0.016h0.032 h0.049l0.049,0.016l0.016,0.032l0.049,0.016l0.049,0.016L21.2,3.801h0.032l0.049-0.016h0.016l0.049,0.032h0.049l0.146,0.016 l0.032-0.016l0.113-0.049L21.751,3.785L21.751,3.785L21.751,3.785z">
        </path>
      </svg>
          <span>Florida</span>
        </a>

        <a href="/northcarolina"
          class="group px-4 py-2 flex items-center gap-2 no-underline whitespace-nowrap hover:bg-gray-100 text-gray-600 hover:text-black">
          <svg class="opacity-80 group-hover:opacity-100" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24"
        height="24" viewBox="0 0 30 30">
        <path
          d="M27.526,8.434l0.519-0.104l0.087-0.035v0.017l0.017,0.052v0.087v0.069l0.052,0.087l0.087,0.069 l0.087,0.052l0.087,0.035l-0.052,0.052l0.052,0.087l0.121,0.104l0.087,0.035l-0.052-0.035l-0.017-0.034l-0.017-0.035l-0.017-0.035 l0.017-0.052V8.745h0.052l0.035,0.104l0.017,0.208l0.052,0.069l0.138,0.138l0.052,0.069l0.017,0.052l0.294,0.467l0.035,0.052 l0.035,0.087l0.069,0.087l0.034,0.069l-0.052,0.035l-0.069-0.017l-0.069-0.052L29.1,10.009l-0.017-0.035V9.939V9.887V9.853 l-0.017-0.035l-0.034-0.052l-0.052-0.052l-0.087-0.052l-0.034-0.017l-0.017-0.035V9.559l-0.017-0.035l-0.069-0.017L28.702,9.49 l-0.017-0.035l0.017-0.087l-0.104-0.069l-0.069-0.017L28.46,9.299l0.052,0.052l0.052,0.017l0.035,0.035l0.069,0.156l0.035,0.087 l0.017,0.052l-0.034,0.052l0.104,0.069l0.069,0.017l0.052,0.017V9.87l-0.26-0.017h-0.069h-0.087l-0.069-0.052L28.322,9.68 l-0.035-0.017h-0.069l-0.035-0.017l-0.087-0.052l-0.069-0.052l-0.069-0.017l-0.19-0.017l0.017-0.035l0.017-0.035V9.42l-0.052-0.017 l-0.017,0.034l-0.017,0.069l-0.017,0.052l0.017,0.017h0.087l0.087,0.034l0.087,0.035l0.052,0.052l0.087,0.087l0.035,0.052 l0.104,0.017l0.052,0.104l0.052,0.017h0.035l-0.017,0.035l-0.069,0.069l-0.035,0.017l-0.121,0.034v0.035h0.035v0.017l-0.104,0.034 h-0.035H28.01l-0.138-0.052l-0.069-0.087l-0.035-0.017h-0.034L27.63,9.991l-0.069-0.035h-0.035l0.017,0.052l0.035,0.034l0.035,0.035 l0.035,0.017l0.034,0.017l0.052,0.017l0.156,0.156l0.069,0.052l0.017,0.017l-0.087,0.034h-0.087l-0.398-0.087l-0.121-0.034 l-0.069-0.087l-0.052,0.017l-0.069-0.017l-0.087-0.052l-0.069-0.017l0.069,0.087l0.035,0.035l0.034,0.035l0.139,0.034l0.034,0.035 l0.035,0.035l0.104,0.035l0.104,0.035h0.069l0.017,0.035l-0.346,0.121l-0.052,0.052l0.017,0.034l0.035-0.017L27.18,10.77 l-0.087,0.104l-0.104,0.069l-0.087,0.035l-0.121,0.035l-0.069,0.017l-0.035-0.017l-0.138-0.138l-0.035-0.017L26.47,10.96 l-0.087,0.017l-0.087-0.052l-0.104-0.225l-0.121-0.19l-0.035-0.104v-0.208l0.017-0.052l0.034-0.069l0.017-0.034l0.017-0.139 l-0.052-0.069l-0.069-0.035h-0.087l0.035,0.035l0.069,0.069l0.017,0.035v0.052v0.052l-0.052,0.052l-0.035,0.104l-0.017,0.087v0.087 l0.052,0.294l0.017,0.035l0.069,0.087l0.052,0.121l0.035,0.034l0.035,0.035l0.035,0.017l0.017,0.052l0.017,0.052l0.017,0.035h0.052 v0.069l-0.087,0.19v0.035l0.484-0.104l0.104,0.017h0.017l0.104-0.104l0.173-0.104l0.173-0.087l0.121,0.017l0.017,0.035v0.052v0.035 l0.017,0.035l0.017,0.017l0.035-0.017l0.017-0.035l0.035-0.035h0.087l0.156,0.052l0.087-0.017l-0.052-0.052l-0.087-0.017 l-0.035-0.052l0.069-0.087l0.277-0.138l0.329-0.104h0.087l0.121,0.034l0.069,0.052l0.017,0.069l-0.087-0.035l-0.035,0.052v0.156 l0.121-0.069l0.035-0.017v0.104l-0.035,0.087l-0.052,0.087l-0.069,0.034v0.017l0.104,0.052l0.069,0.121V11.6l-0.087,0.052 l-0.104-0.017h-0.052l0.035,0.052l0.052,0.017l0.069,0.017h0.052l0.052-0.017l-0.017,0.017l0.035,0.017l0.035,0.035l0.035,0.052 l-0.017,0.035l-0.035,0.034l0.035,0.052l0.052,0.034l0.017,0.017l-0.052,0.069h-0.104l-0.121-0.017l-0.087,0.017l0.087,0.104 l0.087,0.017l0.104-0.035l0.087-0.034v0.017v0.017l0.017,0.017l0.035,0.035l0.017-0.017l0.052-0.363l-0.017-0.156l-0.104-0.536 l0.017-0.035l0.087-0.104l0.017-0.035l0.035-0.017l0.052,0.035l0.087,0.087l0.104,0.035h0.017l0.034-0.017v-0.035l-0.017-0.035 l-0.087-0.017l-0.035-0.035l-0.052-0.052l-0.035-0.052h0.087l0.069,0.017h0.087l0.052-0.052l-0.035-0.017l-0.035-0.017h-0.034 l-0.052,0.017l0.017-0.052l0.017-0.035v-0.035l-0.017-0.052l0.138,0.069l0.121,0.087l0.225,0.242l0.017,0.052l0.087,0.087 l0.017,0.017l0.017,0.087l-0.017,0.069l-0.017,0.069v0.069l0.017,0.035l0.069,0.069l0.017,0.052L30,11.721l-0.017,0.035 l-0.087,0.017l-0.087,0.034l0.017,0.017l0.052,0.087l0.104,0.104L30,12.05l-0.035,0.104l-0.017,0.017l-0.017,0.017l-0.017,0.017 l-0.035,0.017v0.035l0.017,0.052v0.017l-0.035,0.034l-0.052,0.017l-0.104,0.035v-0.035l0.035-0.035l0.017-0.017V12.31l-0.017-0.017 l-0.017-0.017l-0.069,0.052l-0.069-0.017l-0.052-0.069l-0.052-0.104l-0.017,0.087l0.017,0.069l0.017,0.069v0.035l-0.156,0.26 l-0.017,0.017l-0.069,0.017v0.035l0.017,0.017l0.017,0.035l0.017,0.017v0.017l-0.017,0.035l-0.017,0.017l-0.087,0.052l0.035,0.069 v0.035l-0.035,0.034l-0.017,0.035l0.017,0.069v0.035l-0.035,0.017l-0.035-0.035l0.017-0.035l-0.069-0.017l-0.035,0.069v0.104 l0.052,0.052v0.017l-0.052,0.017l-0.121,0.087l-0.035,0.035l-0.034,0.069l-0.017,0.017l-0.242,0.052h-0.069l-0.052-0.087h-0.035 l-0.017,0.017v0.052v0.052h-0.052l-0.121-0.052l-0.069-0.104l-0.035-0.035l-0.087-0.017l-0.035,0.035l0.017,0.052l0.017,0.035 l0.017,0.035l0.035,0.052v0.069l-0.069,0.035l-0.017-0.035l-0.069-0.034h-0.035h-0.017h-0.017l-0.035-0.035l0.138-0.035v-0.035 l-0.034-0.035l-0.035-0.069l-0.035-0.139l-0.035-0.069l-0.069-0.017l-0.035,0.052l0.052,0.069l-0.052,0.173l-0.035-0.017h-0.052 l-0.035,0.017l-0.017,0.052h0.034l0.017,0.017l0.035,0.035l0.017,0.017l-0.138-0.035l-0.069-0.035l-0.052-0.052l0.035-0.017 l0.017-0.017v-0.017v-0.035l-0.156-0.017l-0.052-0.035l0.035-0.069v-0.017l-0.087-0.035l-0.052-0.052l0.017-0.052l0.087-0.035 l0.173-0.017l0.052-0.035l0.034-0.138l-0.087,0.034l-0.087,0.017l-0.173-0.017l-0.087,0.017l-0.069,0.052l-0.121,0.121h0.052 l0.052,0.017l0.035,0.035l0.017,0.035L27.059,13.4v0.035l0.069,0.035l0.017,0.017l0.035,0.017v0.017l-0.017,0.017v0.017 l-0.017,0.017v0.017l0.035,0.017l0.035,0.017l0.017,0.017l0.035,0.017l-0.069,0.052h-0.104l-0.087-0.052l-0.017-0.087h-0.035 l-0.017,0.017l-0.017,0.035l-0.017,0.017h-0.104l-0.19,0.087l-0.087-0.017l-0.087-0.069l-0.069-0.017l-0.19,0.017l-0.104-0.017 l-0.19-0.052l-0.173-0.017l-0.069-0.035l-0.156-0.087l0.087,0.121l0.035,0.052l0.052,0.017h0.069l0.052,0.052l0.052,0.121 l0.104-0.087l0.138,0.017l0.173,0.052l0.121,0.069l0.069,0.017l0.208,0.017l0.26,0.087h0.294l0.346,0.052l0.087-0.017l0.017,0.052 l0.035,0.034l0.069,0.052l0.017,0.017l-0.035,0.087v0.052l-0.017,0.052l-0.069,0.017h-0.19v0.035l0.087,0.017l0.052,0.017 l0.034,0.035l-0.017,0.035H27.56l-0.104-0.017l-0.052,0.034l-0.034,0.035l-0.035,0.035l-0.017,0.017l-0.052,0.017l-0.052,0.035 l-0.052,0.034l-0.035,0.052h0.052l0.156-0.017l0.035,0.017l0.052,0.017h0.035l0.052-0.035h-0.017l-0.017-0.017h-0.017l-0.017-0.035 l0.052-0.035l0.087,0.104v0.121l-0.069,0.087l-0.104,0.069l0.034,0.069l-0.104,0.121l-0.138,0.121l-0.052,0.069l-0.052,0.121 l-0.121,0.069l-0.156,0.035h-0.104l-0.139-0.035l-0.121-0.069l-0.19-0.139l-0.052-0.017l-0.138-0.035l-0.225-0.208l-0.139-0.034 l0.208,0.225l0.017,0.035l0.069,0.017l0.069,0.069l0.121,0.173l0.173,0.156l0.156,0.035h0.156l0.19,0.017l0.138,0.069l0.017,0.017 l0.035,0.017l0.017,0.017l0.017-0.017l0.035-0.052l0.087-0.052l0.035-0.069l0.052-0.087l0.052-0.069l0.052-0.069l0.034-0.017h0.052 l0.034,0.017l0.035,0.034l0.035,0.035v0.017l0.069,0.017l0.104,0.035l0.052,0.017l-0.035-0.087l-0.104-0.104l-0.017-0.052 l0.069-0.052h0.052h0.052l0.052,0.017l0.069,0.069l0.017-0.069l-0.017-0.069l-0.017-0.052v-0.052v-0.069l0.035-0.087l0.017-0.069 h0.017l0.017,0.017l0.052,0.052v0.017v0.035v0.069v0.052l0.087,0.069l0.035,0.035l-0.017,0.035l-0.087,0.069h-0.017l-0.017,0.017 l-0.017,0.034v0.035l0.017,0.035h0.017l0.035,0.017l0.052-0.017l0.138-0.087h0.035l0.017-0.069l0.069-0.052l0.087-0.017l0.035-0.017 l-0.035-0.069l-0.069-0.069l-0.052-0.069l0.121,0.017l0.069,0.052l0.069,0.069l0.087,0.035v0.034l-0.017,0.035l-0.035,0.069 l-0.034,0.035l-0.052,0.017h-0.052h-0.035v0.087l0.017,0.035l0.035,0.017v0.035l-0.017,0.087l-0.017,0.035l-0.138,0.087v-0.017 l-0.035-0.035v-0.035h-0.017l-0.017,0.052l0.017,0.069v0.035l-0.017,0.052l-0.017,0.035l-0.035,0.052l-0.087,0.173l-0.035,0.035 l-0.017,0.017l-0.017,0.017l-0.017,0.052v0.017l0.017,0.017l0.017,0.035l-0.017,0.035l-0.017,0.035l-0.035,0.017l-0.087,0.017 l-0.069-0.017l-0.087-0.035l-0.017-0.069l0.035-0.069l-0.087-0.052l-0.069-0.069h-0.034l0.052,0.381l-0.017,0.104l-0.087-0.052 L27.543,16.6l-0.035-0.121l-0.034-0.087l-0.052-0.035l-0.087,0.035l-0.069,0.069l-0.069,0.069l-0.035,0.087l0.052-0.017l0.035-0.017 l0.017-0.017l0.034-0.035l0.104,0.104l0.017,0.052l-0.692,0.087l-0.104,0.104l-0.484,0.26l-0.017,0.017l-0.035,0.035l-0.052-0.017 v-0.052l0.052-0.052l-0.104-0.104l-0.052-0.104v-0.017h-0.069l0.017,0.069l0.034,0.069l0.035,0.017v0.069v0.069l-0.035,0.052 l-0.034,0.035h-0.017l-0.035-0.035l-0.017-0.017l-0.035,0.017v0.017l0.052,0.069l-0.017,0.035l-0.087,0.069l-0.138,0.277 l-0.087,0.087l-0.052,0.017l-0.069,0.069l-0.069,0.035l-0.087-0.052h-0.017l-0.017-0.017h-0.121l0.035-0.087l0.121-0.138 l0.034-0.087l-0.052-0.052l-0.156-0.156l-0.069-0.035v-0.017l0.052-0.017v-0.017L25,17.154l-0.052-0.034l-0.017,0.017l-0.035,0.017 h-0.052l-0.052-0.052l0.069,0.225l0.052,0.052l0.035-0.035L25,17.379l0.052,0.052l0.017,0.052l0.017,0.104l-0.035,0.069L25,17.673 h-0.035l-0.017-0.017l-0.035,0.017l-0.035,0.017v0.052l0.017,0.017l0.035,0.052l0.052,0.035l0.035,0.017h0.069l0.069,0.035 l0.035,0.034l-0.035,0.052v0.034h0.017l0.017,0.017l-0.017,0.035l-0.052,0.034l-0.19,0.087L24.688,18.4l-0.398,0.502l-0.173,0.294 l-0.138,0.346l-0.087,0.121l-0.052,0.087l-0.017,0.139l-0.052,0.173v0.087l0.017,0.484l-0.017,0.242l-0.087,0.156l0.017-0.087 v-0.052l-0.034-0.017v-0.034l0.034-0.139l-0.104-0.329l0.017-0.138l-0.104-0.156l-0.104-0.173h-0.017l0.017,0.121l0.104,0.311 l0.052,0.087v0.069v0.069l0.035,0.156v0.052l-0.035,0.173l-0.104,0.242l-0.017,0.034l-0.052,0.035h-0.069l-0.329-0.035l-0.087,0.017 l-0.19,0.035l-0.052-0.017h-0.087l-0.294,0.121h-0.121l0.017-0.035v-0.035l-0.052-0.087l-0.017,0.017l-0.017,0.121l-0.069,0.069 l-0.225,0.104l-0.294,0.173l0.034-0.052l0.017-0.017l-0.017-0.017l-0.087,0.034l-0.277-0.19l-0.294-0.19l-0.277-0.208l-0.277-0.19 l-0.277-0.207l-0.277-0.19l-0.277-0.208l-0.277-0.19l-0.277-0.208l-0.277-0.19l-0.277-0.207l-0.277-0.19 l-0.277-0.208l-0.26-0.207l-0.138-0.087l-0.087-0.017h-0.104l-0.138,0.017h-0.035L16.384,18.4l-0.173,0.035l-0.225,0.035 l-0.277,0.034l-0.294,0.052l-0.329,0.034l-0.329,0.052l-0.329,0.052L14.1,18.746l-0.294,0.035l-0.277,0.035l-0.225,0.034 l-0.173,0.035H13.01l-0.034,0.017l-0.139,0.017h-0.034l-0.017-0.017l-0.017-0.035v-0.035l-0.069-0.45v-0.035l-0.017-0.017 l-0.19-0.173l-0.242-0.242l-0.156-0.138l-0.017-0.017h-0.017l-0.017,0.017l-0.277,0.26h-0.017H11.73l-0.017-0.017l-0.017-0.017 l-0.017-0.017l-0.017-0.017V17.95v-0.017v-0.017v-0.017l0.035-0.087v-0.034v-0.017l-0.017-0.017v-0.017l-0.017-0.017V17.69 l-0.017-0.017l-0.017-0.017h-0.035H11.54l-0.225,0.017l-0.173,0.017l-0.225,0.034l-0.277,0.017l-0.277,0.035l-0.311,0.034 l-0.329,0.017l-0.329,0.035l-0.329,0.034l-0.329,0.035l-0.294,0.035l-0.277,0.017l-0.242,0.017l-0.19,0.035H7.578l-0.104,0.017 H7.439l-0.26,0.017L6.92,18.14H6.903H6.886v-0.017l-0.035-0.017v-0.017l-0.017-0.017H6.799l-0.017,0.017L6.73,18.14l-0.017,0.017 l-0.017,0.035v0.069l-0.017,0.017l-0.035,0.017l-0.121,0.017H6.505l-0.035,0.035l-0.017,0.017l-0.017,0.017L6.419,18.4l-0.121,0.017 H6.263L6.09,18.504L5.986,18.59l-0.035,0.017H5.917H5.882l-0.035,0.017L5.83,18.642l-0.017,0.035v0.052l-0.017,0.017L5.761,18.78 L5.675,18.85L5.64,18.867l-0.035,0.035H5.588H5.571l-0.017-0.017L5.536,18.85l-0.121,0.034l-0.986,0.502H4.36l-0.277,0.052 l-0.26,0.035l-0.277,0.035L3.27,19.559l-0.26,0.035l-0.277,0.035L2.457,19.68l-0.26,0.035L1.92,19.749l-0.26,0.035l-0.277,0.035 L1.107,19.87l-0.26,0.035L0.571,19.94l-0.277,0.035l-0.26,0.035l-0.017-0.208v-0.208L0,19.351v-0.173V19.04v-0.035v-0.035 l0.017-0.034l0.035-0.052l0.052-0.069l0.035-0.035l0.017-0.017l0.052-0.017h0.035H0.26l0.034,0.017l0.017,0.017h0.017l0.035,0.017 l0.052-0.017l0.19-0.035l0.087-0.017h0.017l0.017-0.017l0.035-0.034l0.052-0.087l0.035-0.035v-0.052v-0.139v-0.017v-0.052 l0.017-0.017l0.052-0.104v-0.017v-0.035v-0.017v-0.017L0.9,18.019v-0.017v-0.017l0.017-0.035l0.069-0.087l0.017-0.035l0.034-0.017 l0.139-0.069l0.017-0.017l0.035-0.035v-0.035l0.052-0.121l0.017-0.017L1.332,17.5l0.052-0.035l0.104-0.034l0.034-0.017l0.035-0.035 l0.052-0.052l0.069-0.052l0.069-0.035l0.069-0.035h0.017h0.138v-0.017h0.017l0.035-0.017h0.017l0.035-0.017l0.017,0.017h0.017 l0.035-0.017H2.18l0.069-0.035h0.035h0.035l0.017,0.017l0.017,0.017H2.37h0.035h0.017l0.225-0.069l0.017-0.017l0.035-0.017 l0.069-0.087l0.017-0.052l0.034-0.035l0.017-0.017l0.19-0.104l0.035-0.052l0.035-0.052L3.149,16.6l0.017-0.017l0.052-0.017h0.017 H3.27h0.017l0.035-0.017l0.052-0.104l0.069-0.087v-0.017l0.035-0.017l0.017-0.017l0.087-0.052l0.035-0.035l0.069-0.087l0.017-0.017 l0.035-0.017l0.121-0.052l0.173-0.121l0.017-0.017h0.017H4.1h0.156h0.052h0.017l0.035-0.035l0.069-0.121l0.069-0.138l0.017-0.035 v-0.035V15.51l0.017-0.034l0.035-0.052v-0.034v-0.017l-0.052-0.069v-0.017l-0.017-0.017v-0.035v-0.017l0.017-0.017v-0.035 l0.017-0.017L4.55,15.13l0.017-0.017l0.052-0.017h0.035h0.035l0.052,0.017l0.052,0.017l0.035,0.034h0.035h0.017l0.017-0.017 l0.017-0.035v-0.035l0.017-0.035l0.035-0.052v-0.017l0.017-0.035l-0.017-0.052V14.87v-0.017h0.017l0.225-0.173l0.069-0.052 l0.156-0.104l0.034-0.017h0.035l0.017,0.017l0.069,0.087v0.017v0.017l-0.017,0.052v0.035v0.035l0.017,0.017l0.017,0.052l0.017,0.017 L5.64,14.87l0.017,0.017l0.017,0.017h0.017h0.035h0.017h0.017l0.035-0.017l0.156-0.138l0.017-0.017l0.017-0.017l0.035-0.035 l0.052-0.104v-0.017l0.035-0.121l0.035-0.052l0.104-0.156l0.052-0.052l0.052-0.035l0.034-0.017l0.121-0.052l0.087-0.052l0.017-0.017 h0.087l0.017-0.017l0.087-0.104l0.035-0.017h0.035h0.017l0.052,0.017h0.017h0.017h0.052h0.017l0.017,0.017h0.017l0.017,0.017 l0.017,0.017v0.017l0.017,0.017v0.017l0.017,0.017v0.017l0.017,0.017l0.035,0.017h0.017h0.052h0.035h0.017l0.034-0.017l0.035-0.017 l0.052-0.069l0.017-0.017l0.035-0.035l0.034-0.052l0.242-0.727l0.017-0.017l0.087-0.087l0.242-0.225l0.017-0.017h0.017l0.19,0.035 H8.46v-0.017h0.017L8.46,12.76v-0.017L8.391,12.69l-0.052-0.069v-0.017v-0.035v-0.034l0.069-0.208l0.035-0.173l-0.017-0.035 l-0.069-0.104v-0.017l0.017-0.087L8.495,11.6l0.035,0.052l0.017,0.017h0.017l0.087-0.017l0.606-0.087l0.606-0.087l0.623-0.087 l0.606-0.087l0.606-0.104l0.623-0.087l0.606-0.087l0.606-0.104l0.606-0.104l0.623-0.087l0.606-0.104l0.606-0.104l0.606-0.104 l0.623-0.087l0.606-0.104l0.606-0.104l0.606-0.104l0.606-0.121l0.623-0.104l0.606-0.104l0.606-0.104l0.606-0.121l0.606-0.104 l0.606-0.121l0.606-0.121l0.623-0.104l0.606-0.121l0.606-0.121l0.606-0.121l0.606-0.104L27.526,8.434L27.526,8.434z">
        </path>
      </svg>
          <span>North Carolina</span>
        </a>

        <a href="/pennsylvania"
          class="group px-4 py-2 flex items-center gap-2 no-underline whitespace-nowrap hover:bg-gray-100 text-gray-600 hover:text-black">
          <svg class="opacity-80 group-hover:opacity-100" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24"
        height="24" viewBox="0 0 30 30">
        <path
          d="M28.065,17.222l-0.047,0.047l-0.14,0.117l-0.094,0.047l-0.117,0.187l-0.093,0.047l-0.07,0.047 l-0.047,0.117l0.023,0.14l0.047,0.117l-0.047,0.07l-0.257,0.164l-0.164,0.14l-0.094,0.047l-0.117-0.023l-0.257,0.21l-0.07,0.024 l-0.07,0.047l-0.07,0.187l-0.093-0.047l-0.14-0.047l-0.187-0.023h-0.21l-0.211,0.07l-0.094,0.023L25.304,19l-0.07,0.07l-0.07,0.093 l-0.07,0.094l-0.07,0.21l-0.07,0.187l-0.07,0.187H24.86l-0.538,0.117l-0.514,0.117l-0.515,0.093l-0.515,0.117l-0.515,0.117 l-0.515,0.094l-0.515,0.117l-0.538,0.117l-0.515,0.094l-0.514,0.117l-0.515,0.093l-0.515,0.094l-0.515,0.117l-0.538,0.093 l-0.515,0.117l-0.515,0.094l-0.514,0.094l-0.538,0.117l-0.514,0.093l-0.515,0.094l-0.515,0.093l-0.515,0.117l-0.538,0.094 l-0.515,0.094l-0.515,0.093l-0.514,0.094l-0.538,0.093l-0.514,0.094l-0.515,0.094l-0.538,0.093L8.743,23l-0.515,0.093l-0.585,0.094 l-0.585,0.117l-0.608,0.094l-0.585,0.093l-0.585,0.117l-0.585,0.094l-0.585,0.093l-0.608,0.094l-0.047-0.398l-0.07-0.421 l-0.07-0.421l-0.07-0.398l-0.07-0.468l-0.094-0.491l-0.07-0.468l-0.07-0.468l-0.094-0.468l-0.07-0.491l-0.07-0.468l-0.094-0.468 v-0.023L2.52,17.807l-0.117-0.608L2.31,16.567l-0.094-0.608l-0.117-0.632l-0.093-0.608l-0.094-0.632L1.795,13.48l-0.094-0.608 L1.608,12.24l-0.117-0.608L1.398,11l-0.094-0.608L1.187,9.76L1.094,9.152L1,8.52l0.047-0.023l0.562-0.211l0.538-0.187l0.608-0.445 l0.608-0.444l0.632-0.421l0.094-0.07l0.023,0.187l0.047,0.211l0.023,0.187l0.047,0.211l0.024,0.21l0.023,0.187l0.047,0.21 L4.345,8.31l0.047,0.187l0.023,0.164l0.024,0.164l0.023,0.187l0.047,0.164l0.023,0.164l0.024,0.187L4.602,9.69l0.023,0.187 L4.79,9.854L5.374,9.76l0.608-0.117L6.567,9.55l0.608-0.117L7.76,9.339l0.608-0.117l0.585-0.094l0.585-0.117l0.608-0.117 l0.585-0.093l0.608-0.117l0.585-0.117l0.585-0.117l0.608-0.094l0.585-0.117l0.608-0.117l0.585-0.117l0.585-0.117l0.608-0.117 l0.585-0.117l0.585-0.14l0.608-0.117l0.585-0.117l0.585-0.117l0.608-0.117l0.585-0.14l0.585-0.117l0.585-0.117l0.608-0.14 l0.585-0.117l0.585-0.14l0.585-0.117l0.117-0.024l0.047-0.023l0.023,0.093l0.117,0.047l0.14,0.047l0.117,0.047l0.047,0.093 l0.047,0.14l0.047,0.117l0.07,0.047l0.234-0.094h0.07l0.117,0.07l0.117,0.024l0.094,0.093l0.047,0.024h0.07l-0.024,0.047 l-0.07,0.164l0.117,0.024l0.07,0.023l0.07,0.023l0.047,0.14v0.047l-0.047,0.07v0.047l0.093,0.21l0.024,0.117l0.047,0.304l0.024,0.07 l0.07,0.047l0.328,0.421l0.093,0.07l0.07,0.047l0.211,0.023l0.07,0.023l0.047,0.07l0.094,0.047h0.093l0.211-0.07l0.117,0.024 l0.047,0.047h0.047l0.047-0.047l0.047-0.024l0.047,0.024l0.023,0.047l0.047,0.07l0.07,0.047l0.094,0.117l0.047,0.117l-0.07,0.07 l-0.094,0.047l-0.047,0.024l-0.047,0.07h-0.047l-0.024,0.023v0.024l-0.023,0.07v0.023l-0.187,0.281v0.07v0.047v0.164l-0.047,0.281 l-0.164,0.374l-0.047,0.047l-0.023,0.023l-0.047,0.047l-0.023,0.047L26.638,11l0.024,0.07v0.023h-0.024l-0.117,0.281l-0.07,0.07 l-0.093,0.07l-0.07,0.024l-0.07,0.093l-0.093,0.117L26.1,11.865l0.024,0.024l0.047,0.047l0.047,0.07l0.024,0.023v0.023v0.024h0.023 h0.023h0.024h0.023l0.023,0.047l0.047,0.047l0.07,0.047l0.094,0.094l0.047,0.117l-0.024,0.093l-0.047,0.07l-0.047,0.07v0.14v0.117 l-0.07,0.07l-0.07,0.024l-0.093-0.024l-0.024,0.117l-0.023,0.047l-0.023,0.024l-0.024,0.023l0.024,0.047l0.023,0.047h0.023 l-0.023,0.187v0.07l0.023,0.07l0.024,0.07v0.047l0.023,0.047l0.047,0.187v0.07l0.023,0.047l0.024,0.07l0.07,0.14l0.07,0.023 l0.117-0.07l0.234,0.023l0.117,0.14l0.14,0.444l0.07,0.094l0.093,0.117l0.117,0.047L27.573,15l0.07,0.093l0.117,0.211l0.281,0.164 l0.047,0.047l0.023,0.023l0.211,0.187l0.164,0.14l0.304,0.14l0.14,0.094L29,16.216l-0.023,0.14l-0.117,0.117l-0.14,0.07 l-0.117,0.047l-0.024,0.023l-0.117,0.187l-0.047,0.023l-0.164,0.094l-0.047,0.07L28.065,17.222L28.065,17.222z">
        </path>
      </svg>
          <span>Pennsylvania</span>
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const button = document.getElementById('election-results-button');
    const dropdown = document.getElementById('election-results-dropdown');
    let isOpen = false;

    button.addEventListener('click', function(e) {
      e.stopPropagation();
      isOpen = !isOpen;
      button.setAttribute('aria-expanded', isOpen);
      dropdown.classList.toggle('hidden');
    });

    document.addEventListener('click', function(e) {
      if (!dropdown.contains(e.target) && !button.contains(e.target)) {
        isOpen = false;
        button.setAttribute('aria-expanded', false);
        dropdown.classList.add('hidden');
      }
    });
  });
</script>

  <main class="w-full lg:max-w-7xl mx-auto">
    <script src="jquery.min.js"></script>
<script src="jszip.min.js"></script>
<script src="papaparse.min.js"></script>


<h1>Award Search</h1>
<p>
  Below is a keyword search over a selection of active federal government grants.
  Each typed word is treated as an <strong>AND</strong> condition (i.e., all must match).
  This search runs in two passes per keyword:
  (1) exact keyword match,
  (2) prefix matches (i.e., other keywords that start with that string).
  For performance reasons, only the first 100 matching rows are displayed.  
  <br><br>
  You can search by EIN (e.g., 13-2574854), UEI (e.g., M2NYTB5V2D77) or keywords (e.g., unaccompanied refugee)
</p>

<div id="searchContainer">
  <form id="searchForm">
    <label for="searchBox">Enter keywords:</label>
    <input type="text" id="searchBox" class="w-full md:w-auto px-2 py-1 rounded text-[15px] border border-gray-300" />
    <button type="submit" id="searchButton" disabled>Search</button>
  </form>
</div>

<div id="statusMessage"></div>
<div id="statsBox"></div> <!-- Will display the sum of award_amount here -->

<table id="resultsTable">
  <thead>
    <tr>
      <th>Search Results</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
  // These will be filled after we parse award_reverse_index.txt.zip
  let KEYWORDS = [];
  let BATCHES  = [];

  // Keep track of total taxpayer money across displayed results
  let totalAwardAmount = 0;

  // Disable the form until the index is loaded
  $('#searchBox').prop('disabled', true);
  $('#searchButton').prop('disabled', true);

  // Once the document is ready, fetch and parse the master reverse index
  $(document).ready(async function() {
    $('#statusMessage').text('Loading master reverse index...');
    try {
      await loadMasterReverseIndex('award_reverse_index.txt.zip');
      $('#statusMessage').text('Master index loaded. Ready to search.');
      $('#searchBox').prop('disabled', false);
      $('#searchButton').prop('disabled', false);
      
      // After index is loaded, check URL parameters and perform search if needed
      const urlParams = new URLSearchParams(window.location.search);
      const keywords = urlParams.get('keywords');
      if (keywords) {
        $('#searchBox').val(keywords);
        $('#searchForm').trigger('submit');
      }
    } catch (err) {
      console.error(err);
      $('#statusMessage').text('Error loading index: ' + err);
    }
  });

  // Attach search handler
  $('#searchForm').on('submit', async function(e) {
    e.preventDefault();
    // Clear previous results
    $('#resultsTable tbody').empty();
    $('#statusMessage').text('Searching...').show();
    $('#statsBox').text('');
    totalAwardAmount = 0; // reset the sum

    // Disable search while performing the operation
    $('#searchBox').prop('disabled', true);
    $('#searchButton').prop('disabled', true);

    try {
      const userInput = $('#searchBox').val().trim();
      
      // Update URL with search terms without triggering page reload
      const newUrl = new URL(window.location);
      if (userInput) {
        newUrl.searchParams.set('keywords', userInput);
      } else {
        newUrl.searchParams.delete('keywords');
      }
      window.history.pushState({}, '', newUrl);

      // 1) Parse user input => tokens
      const tokens = tokenizeInput(userInput);
      if (!tokens.length) {
        $('#statusMessage').text('No valid keywords to search for.');
      } else {
        // 2) For each token, gather the union of exact + prefix matches => then intersect across tokens
        const finalBatchIDs = getFinalBatchIntersection(tokens);

        // 3) Load data from each batch (in ascending order) until we have 100 rows
        const sortedBatchIDs = Array.from(finalBatchIDs).sort((a, b) => a - b);
        let totalRowsDisplayed = 0;
        for (let i = 0; i < sortedBatchIDs.length && totalRowsDisplayed < 100; i++) {
          const batchId = sortedBatchIDs[i];
          totalRowsDisplayed += await processBatch(batchId, tokens, 100 - totalRowsDisplayed);
        }

        // Update status
        $('#statusMessage').text(
          'Search complete. Displayed ' + totalRowsDisplayed + 
          (totalRowsDisplayed === 100 ? ' (limit reached).' : ' row(s).')
        );
        // Update the sum in #statsBox
        if (totalRowsDisplayed > 0) {
          $('#statsBox').html(`Taxpayer Money Spent: ${formatCurrency(totalAwardAmount)}`);
        }
      }
    } catch (err) {
      console.error(err);
      $('#statusMessage').text('Error during search: ' + err);
    }

    // Re-enable search
    $('#searchBox').prop('disabled', false);
    $('#searchButton').prop('disabled', false);
  });


  // ============================================================
  // 1) LOAD AND PARSE THE MASTER REVERSE INDEX
  // ============================================================
  async function loadMasterReverseIndex(zipUrl) {
    const response = await fetch(zipUrl);
    if (!response.ok) {
      throw new Error('Could not fetch ' + zipUrl);
    }
    const arrayBuffer = await response.arrayBuffer();

    const jsZip = new JSZip();
    const zip = await jsZip.loadAsync(arrayBuffer);

    // We expect a single file "award_reverse_index.txt" inside
    const fileName = 'award_reverse_index.txt'; // Known from instructions
    if (!zip.file(fileName)) {
      throw new Error('Zip does not contain ' + fileName);
    }

    const fileData = await zip.file(fileName).async('string');
    parseMasterReverseIndex(fileData);
  }

  function parseMasterReverseIndex(text) {
    // Each line is: keyword:batch_id1,batch_id2,...
    // Lines are in alphabetical order
    const lines = text.split(/\r?\n/);
    for (const line of lines) {
      const trimmed = line.trim();
      if (!trimmed) continue; // skip empty
      const parts = trimmed.split(':');
      if (parts.length !== 2) continue; // skip malformed

      const kw = parts[0];
      const batchString = parts[1];
      const batchIds = batchString.split(',').map(x => parseInt(x, 10)).filter(n => !isNaN(n));

      KEYWORDS.push(kw);
      BATCHES.push(batchIds);
    }
  }

  // ============================================================
  // 2) TOKENIZE USER INPUT
  // ============================================================
  function tokenizeInput(input) {
    // 1) lowercase
    let txt = input.toLowerCase();
    // 2) remove hyphens
    txt = txt.replace(/-/g, '');
    // 3) replace all other punctuation / non-alphanumeric with whitespace
    txt = txt.replace(/[^a-z0-9]+/g, ' ');
    // 4) split by whitespace
    const rawTokens = txt.split(/\s+/).map(t => t.trim()).filter(Boolean);

    // 5) discard tokens that cannot be found as a prefix in KEYWORDS
    const validTokens = [];
    for (const t of rawTokens) {
      if (couldPrefixMatch(t)) {
        validTokens.push(t);
      }
    }
    return validTokens;
  }

  function couldPrefixMatch(token) {
    // Binary-search approach to see if there's any keyword that starts with 'token'
    const startIdx = findInsertionIndex(KEYWORDS, token);
    if (startIdx >= KEYWORDS.length) return false;
    return KEYWORDS[startIdx].startsWith(token);
  }

  // Binary search for insertion index
  function findInsertionIndex(array, value) {
    let low = 0, high = array.length;
    while (low < high) {
      const mid = (low + high) >>> 1;
      if (array[mid] < value) {
        low = mid + 1;
      } else {
        high = mid;
      }
    }
    return low;
  }

  // ============================================================
  // 3) GET FINAL BATCH INTERSECTION
  //    For each token:
  //      - union of EXACT MATCH batch set + all prefix match sets
  //    Then intersect across tokens
  // ============================================================
  function getFinalBatchIntersection(tokens) {
    let runningSet = null;

    for (const token of tokens) {
      const matchSet = new Set();

      // Exact match
      const exactIdx = exactMatchIndex(token);
      if (exactIdx !== -1) {
        BATCHES[exactIdx].forEach(id => matchSet.add(id));
      }

      // Prefix matches
      const prefixRange = findPrefixRange(token);
      for (let i = prefixRange.start; i < prefixRange.end; i++) {
        BATCHES[i].forEach(id => matchSet.add(id));
      }

      // Intersect with running set (implementing AND logic)
      if (runningSet === null) {
        runningSet = matchSet; // first token
      } else {
        const temp = new Set();
        for (const b of runningSet) {
          if (matchSet.has(b)) {
            temp.add(b);
          }
        }
        runningSet = temp;
      }

      if (!runningSet.size) break; // short circuit if empty
    }

    return runningSet || new Set();
  }

  function exactMatchIndex(word) {
    let low = 0, high = KEYWORDS.length - 1;
    while (low <= high) {
      const mid = (low + high) >>> 1;
      if (KEYWORDS[mid] === word) return mid;
      if (KEYWORDS[mid] < word) {
        low = mid + 1;
      } else {
        high = mid - 1;
      }
    }
    return -1;
  }

  function findPrefixRange(prefix) {
    const startIdx = findInsertionIndex(KEYWORDS, prefix);
    let endIdx = startIdx;
    while (endIdx < KEYWORDS.length && KEYWORDS[endIdx].startsWith(prefix)) {
      endIdx++;
    }
    return { start: startIdx, end: endIdx };
  }

  // ============================================================
  // 4) PROCESS A BATCH
  //    - fetch award_batch_XXX.csv.zip
  //    - parse its .txt to get rowIDs, then load CSV with PapaParse
  //    - build a nice "card" layout for each matched row
  // ============================================================
  async function processBatch(batchId, tokens, maxNeeded) {
    const zipFileName = `award_batch_${String(batchId).padStart(3, '0')}.csv.zip`;
    const response = await fetch(zipFileName);
    if (!response.ok) {
      console.warn('Could not fetch batch file: ' + zipFileName);
      return 0;
    }
    const arrayBuffer = await response.arrayBuffer();
    const jsZip = new JSZip();
    const batchZip = await jsZip.loadAsync(arrayBuffer);

    // The zip should contain:
    //   award_batch_XXX.csv
    //   award_batch_XXX_reverse_index.txt
    const reverseIndexName  = `award_batch_${String(batchId).padStart(3, '0')}_reverse_index.txt`;
    const csvFileName       = `award_batch_${String(batchId).padStart(3, '0')}.csv`;

    if (!batchZip.file(reverseIndexName) || !batchZip.file(csvFileName)) {
      console.warn(`Batch zip missing expected files: ${reverseIndexName}, ${csvFileName}`);
      return 0;
    }

    const reverseIndexText = await batchZip.file(reverseIndexName).async('string');
    // Collect rowIDs that match ANY of the user tokens in EXACT or PREFIX form
    const rowIDs = getMatchingRowsInBatch(reverseIndexText, tokens);

    if (!rowIDs.size) {
      return 0; // no matches in this batch
    }

    // Now load the CSV
    const csvData = await batchZip.file(csvFileName).async('string');
    // Parse it with Papa Parse
    const parseResult = Papa.parse(csvData, {
      header: true,
      skipEmptyLines: false,
      dynamicTyping: false
    });

    let displayed = 0;
    for (const rowId of rowIDs) {
      // IMPORTANT: preserve original offset => rowId-1
      if (rowId - 1 >= 0 && rowId - 1 < parseResult.data.length) {
        const rowObject = parseResult.data[rowId - 1];
        // Build the UI block for this row
        const htmlBlock = buildResultItem(rowObject);

        // Append to table
        $('#resultsTable tbody').append(
          `<tr><td>${htmlBlock}</td></tr>`
        );

        // Add to total if award_amount is present
        const amt = parseFloat(rowObject.award_amount || '0');
        if (!isNaN(amt)) {
          totalAwardAmount += amt;
        }

        displayed++;
        if (displayed >= maxNeeded) break;
      }
    }

    // Attach event handlers for "Read more" links and EIN collapses
    // We do this after appending all rows from this batch.
    initDynamicEventHandlers();

    return displayed;
  }

  function getMatchingRowsInBatch(reverseIndexText, tokens) {
    // Parse the batch-level reverse index:
    //   keyword:row_id1,row_id2,...
    const batchIndexMap = new Map();
    const lines = reverseIndexText.split(/\r?\n/);
    for (const line of lines) {
      const trimmed = line.trim();
      if (!trimmed) continue;
      const parts = trimmed.split(':');
      if (parts.length !== 2) continue;
      const kw = parts[0];
      const rowString = parts[1];
      const rowIds = rowString.split(',').map(x => parseInt(x, 10)).filter(n => !isNaN(n));
      batchIndexMap.set(kw, rowIds);
    }

    // For each user token, do EXACT + PREFIX union, then AND across tokens
    let finalSet = null;
    for (const token of tokens) {
      const rowSetForToken = new Set();

      // EXACT
      if (batchIndexMap.has(token)) {
        batchIndexMap.get(token).forEach(r => rowSetForToken.add(r));
      }

      // PREFIX
      for (const [kw, rowIds] of batchIndexMap.entries()) {
        if (kw.startsWith(token) && kw !== token) {
          rowIds.forEach(r => rowSetForToken.add(r));
        }
      }

      // AND with finalSet
      if (finalSet === null) {
        finalSet = rowSetForToken;
      } else {
        const temp = new Set();
        for (const r of finalSet) {
          if (rowSetForToken.has(r)) {
            temp.add(r);
          }
        }
        finalSet = temp;
      }

      if (!finalSet.size) break; // short circuit if empty
    }
    return finalSet || new Set();
  }

  // Helper to build the HTML snippet for a single row
  function buildResultItem(row) {
    const recipientName = row.recipient_uei_name || '';
    const recipientUEI  = row.recipient_uei || '';
    const awardID       = row.generated_unique_award_id || '';
    const endDate       = row.period_of_performance_current_end_date || '';
    const awardAmount   = row.award_amount || '0';
    const fundingAgencyTop = row.funding_toptier_agency_name || '';
    const fundingAgencySub = row.funding_subtier_agency_name || '';
    const fullDescription = row.description || '';
    const shortDescriptionHtml = truncatedDescription(fullDescription, 300);

    // possible_eins is a JSON blob
    let einHtml = '';
    let rawEINData = row.possible_eins || '{}';
    let recipientAddr = row.recipient_addr || '';
    try {
      const parsed = JSON.parse(rawEINData);
      // Build listing for each key
      const lines = Object.entries(parsed).map(([einID, data]) => {
        // data.name, data.addr
        return `
          <div class="einEntry">
            <strong>EIN ID:</strong> ${escapeHtml(einID)}<br>
            <strong>Name:</strong> ${escapeHtml(data.name || '')}<br>
            <strong>Address:</strong> ${escapeHtml(data.addr || '')}
          </div>
        `;
      }).join('');
      einHtml = `
        <div><strong>UEI Address:</strong> ${escapeHtml(recipientAddr)}</div>
        <hr>
        ${lines}
      `;
    } catch(e) {
      einHtml = `<div>(Could not parse possible_eins)</div>`;
    }

    // The card layout
    return `
      <div class="resultItem">
        <!-- A small-print header with recipient, UEI, award, end date -->
        <div class="resultHeader">
          ${escapeHtml(recipientName)} (${escapeHtml(recipientUEI)})<br>
          Award: ${escapeHtml(awardID)} | Ends: ${escapeHtml(endDate)}
        </div>

        <!-- Award amount prominently, with smaller funding agency -->
        <div>
          <span class="awardAmount">${formatCurrency(awardAmount)}</span>
          <span class="fundingAgency">
            ${escapeHtml(fundingAgencyTop)} : ${escapeHtml(fundingAgencySub)}
          </span>
        </div>

        <!-- Description with show/hide (if too large) -->
        <div class="descriptionContainer">
          ${shortDescriptionHtml}
        </div>

        <!-- Collapsible EIN info -->
        <div class="einToggle">Click for possible matching 501(c)(3) EINs</div>
        <div class="einSection hidden">
          ${einHtml}
        </div>
      </div>
    `;
  }

  // Creates a truncated description with "Read more" link if beyond a threshold
  function truncatedDescription(desc, limit) {
    if (desc.length <= limit) {
      // No need to truncate
      return `<div class="descriptionShort">${escapeHtml(desc)}</div>`;
    }
    // Truncate
    const shortText = desc.substring(0, limit);
    const remainder = desc.substring(limit);
    return `
      <div class="descriptionShort">
        ${escapeHtml(shortText)}...
        <a href="#" class="readMoreLink">Read more</a>
        <span class="descriptionFull" style="display:none;">
          ${escapeHtml(remainder)}
        </span>
      </div>
    `;
  }

  // After building new rows, attach click events so they work
  function initDynamicEventHandlers() {
    // Expand full description text
    $('.readMoreLink').off('click').on('click', function(e) {
      e.preventDefault();
      const $link = $(this);
      const $fullDesc = $link.next('.descriptionFull');
      $fullDesc.show();
      // Remove the "Read more" link or hide it
      $link.hide();
    });

    // Toggle EIN section
    $('.einToggle').off('click').on('click', function() {
      const $toggle = $(this);
      const $section = $toggle.next('.einSection');
      $section.slideToggle(200); // jQuery animate
    });
  }

  // Utility: format as currency
  function formatCurrency(numOrString) {
    const val = parseFloat(numOrString) || 0;
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD'
    }).format(val);
  }

  // Simple HTML escaping
  function escapeHtml(str) {
    if (!str) return '';
    return str
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;');
  }
</script>

  </main>
</body>

</html>